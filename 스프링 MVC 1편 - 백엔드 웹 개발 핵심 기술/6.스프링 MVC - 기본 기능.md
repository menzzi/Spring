# ìŠ¤í”„ë§ MVC - ê¸°ë³¸ ê¸°ëŠ¥

# **í”„ë¡œì íŠ¸ ìƒì„±**

# **ë¡œê¹… ê°„ë‹¨íˆ ì•Œì•„ë³´ê¸°**

**â€œë¡œê·¸â€**

ìš´ì˜ ì‹œìŠ¤í…œì—ì„œëŠ” System.out.println() ê°™ì€ ì‹œìŠ¤í…œ ì½˜ì†”ì„ ì‚¬ìš©í•´ì„œ í•„ìš”í•œ ì •ë³´ë¥¼ ì¶œë ¥í•˜ì§€ ì•Šê³ ,
ë³„ë„ì˜ ë¡œê¹… ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•´ì„œ ë¡œê·¸ë¥¼ ì¶œë ¥í•œë‹¤.

- ì°¸ê³ 
    
    ë¡œê·¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” Logback, Log4J, Log4J2 ë“±ë“± ìˆ˜ ë§ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ìˆëŠ”ë°, ê·¸ê²ƒì„ í†µí•©í•´ì„œ
    ì¸í„°í˜ì´ìŠ¤ë¡œ ì œê³µí•˜ëŠ” ê²ƒì´ ë°”ë¡œ SLF4J ë¼ì´ë¸ŒëŸ¬ë¦¬ë‹¤.
    ì‰½ê²Œ ì´ì•¼ê¸°í•´ì„œ SLF4JëŠ” ì¸í„°í˜ì´ìŠ¤ì´ê³ , ê·¸ êµ¬í˜„ì²´ë¡œ Logback ê°™ì€ ë¡œê·¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„ íƒí•˜ë©´ ëœë‹¤.
    ì‹¤ë¬´ì—ì„œëŠ” ìŠ¤í”„ë§ ë¶€íŠ¸ê°€ ê¸°ë³¸ìœ¼ë¡œ ì œê³µí•˜ëŠ” Logbackì„ ëŒ€ë¶€ë¶„ ì‚¬ìš©í•œë‹¤.
    

**ë¡œê·¸ ì„ ì–¸**

- private Logger log = LoggerFactory.getLogger(getClass());
- private static final Logger log = LoggerFactory.getLogger(Xxx.class)
@Slf4j : ë¡¬ë³µ ì‚¬ìš© ê°€ëŠ¥

**ë¡œê·¸ í˜¸ì¶œ**

log.info("hello")
System.out.println("hello")

```java
log.trace("trace log = {}",name);
log.debug("debug log = {}",name);
log.info(" info log = {}",name);
log.warn(" warn log = {}",name);
log.error("error log = {}",name);
```

```java
#hello.springmvc íŒ¨í‚¤ì§€ì™€ ê·¸ í•˜ìœ„ ë¡œê·¸ ë ˆë²¨ ì„¤ì •
logging.level.hello.springmvc=trace
# ë¡œê·¸ ë‹¤ ë³¼êº¼ì•¼ 
# trace -> debug ë°”ê¾¸ë©´ debugë¶€í„° ë³¼êº¼ì•¼
```

System.out.println ì€ ìƒê´€ì—†ì´ ë‹¤ ì¶œë ¥..

ì‹œìŠ¤í…œ ì½˜ì†”ë¡œ ì§ì ‘ ì¶œë ¥í•˜ëŠ” ê²ƒ ë³´ë‹¤ ë¡œê·¸ë¥¼ ì‚¬ìš©í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ì¥ì ì´ ìˆë‹¤. 

ì‹¤ë¬´ì—ì„œëŠ” í•­ìƒ ë¡œê·¸ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

@RestController

- @Controller ëŠ” ë°˜í™˜ ê°’ì´ String ì´ë©´ ë·° ì´ë¦„ìœ¼ë¡œ ì¸ì‹ëœë‹¤. ê·¸ë˜ì„œ **ë·°ë¥¼ ì°¾ê³  ë·°ê°€ ëœë”ë§** ëœë‹¤.
- @RestController ëŠ” ë°˜í™˜ ê°’ìœ¼ë¡œ ë·°ë¥¼ ì°¾ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, **HTTP ë©”ì‹œì§€ ë°”ë””ì— ë°”ë¡œ ì…ë ¥**í•œë‹¤.

ë”°ë¼ì„œ ì‹¤í–‰ ê²°ê³¼ë¡œ ok ë©”ì„¸ì§€ë¥¼ ë°›ì„ ìˆ˜ ìˆë‹¤. @ResponseBody ì™€ ê´€ë ¨ì´ ìˆëŠ”ë°, ë’¤ì—ì„œ ë” ìì„¸íˆ
ì„¤ëª…í•œë‹¤.

<aside>
ğŸ—£ ì˜¬ë°”ë¥¸ ë¡œê·¸ ì‚¬ìš©ë²•
*`log*.info("info log = "+ name);`
â†’ ë¡œê·¸ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ a+b ê³„ì‚° ë¡œì§ì´ ë¨¼ì € ì‹¤í–‰ë¨, ì´ëŸ° ë°©ì‹ìœ¼ë¡œ ì‚¬ìš©í•˜ë©´ X
*`log*.info("info log = {}",name);`
â†’ ì•ê³¼ ê°™ì€ ì˜ë¯¸ì—†ëŠ” ì—°ì‚°ì´ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.

</aside>

**ë¡œê·¸ ì‚¬ìš©ì‹œ ì¥ì **

- ì“°ë ˆë“œ ì •ë³´, í´ë˜ìŠ¤ ì´ë¦„ ê°™ì€ ë¶€ê°€ ì •ë³´ë¥¼ í•¨ê»˜ ë³¼ ìˆ˜ ìˆê³ , ì¶œë ¥ ëª¨ì–‘ì„ ì¡°ì •í•  ìˆ˜ ìˆë‹¤.
- ë¡œê·¸ ë ˆë²¨ì— ë”°ë¼ ê°œë°œ ì„œë²„ì—ì„œëŠ” ëª¨ë“  ë¡œê·¸ë¥¼ ì¶œë ¥í•˜ê³ , ìš´ì˜ì„œë²„ì—ì„œëŠ” ì¶œë ¥í•˜ì§€ ì•ŠëŠ” ë“± ë¡œê·¸ë¥¼ ìƒí™©ì— ë§ê²Œ ì¡°ì ˆí•  ìˆ˜ ìˆë‹¤.
- ì‹œìŠ¤í…œ ì•„ì›ƒ ì½˜ì†”ì—ë§Œ ì¶œë ¥í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, íŒŒì¼ì´ë‚˜ ë„¤íŠ¸ì›Œí¬ ë“±, ë¡œê·¸ë¥¼ ë³„ë„ì˜ ìœ„ì¹˜ì— ë‚¨ê¸¸ ìˆ˜ ìˆë‹¤.
íŠ¹íˆ íŒŒì¼ë¡œ ë‚¨ê¸¸ ë•ŒëŠ” ì¼ë³„, íŠ¹ì • ìš©ëŸ‰ì— ë”°ë¼ ë¡œê·¸ë¥¼ ë¶„í• í•˜ëŠ” ê²ƒë„ ê°€ëŠ¥í•˜ë‹¤.
- ì„±ëŠ¥ë„ ì¼ë°˜ System.outë³´ë‹¤ ì¢‹ë‹¤. (ë‚´ë¶€ ë²„í¼ë§, ë©€í‹° ì“°ë ˆë“œ ë“±ë“±) ê·¸ë˜ì„œ ì‹¤ë¬´ì—ì„œëŠ” ê¼­ ë¡œê·¸ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

# **ìš”ì²­ ë§¤í•‘**

ë§¤í•‘ ì •ë³´(í•œë²ˆ ë”)

@RequestMapping("/hello-basic")

- /hello-basic URL í˜¸ì¶œì´ ì˜¤ë©´ ì´ ë©”ì„œë“œê°€ ì‹¤í–‰ë˜ë„ë¡ ë§¤í•‘í•œë‹¤.
- ëŒ€ë¶€ë¶„ì˜ ì†ì„±ì„ ë°°ì—´[] ë¡œ ì œê³µí•˜ë¯€ë¡œ ë‹¤ì¤‘ ì„¤ì •ì´ ê°€ëŠ¥í•˜ë‹¤. {"/hello-basic", "/hello-go"}

**PathVariable(ê²½ë¡œ ë³€ìˆ˜) ì‚¬ìš©**

```java
		/**
     * PathVariable ì‚¬ìš©
     * ë³€ìˆ˜ëª…ì´ ê°™ìœ¼ë©´ ìƒëµ ê°€ëŠ¥
     * @PathVariable("userId") String userId -> @PathVariable userId
     * url ìì²´ì— ê°’ì´ ë“¤ì–´ìˆë‹¤.
     */
    @GetMapping("/mapping/{userId}")
    public String mappingPath(@PathVariable("userId") String data){

        log.info("mappingPath userId = {}",data);
        return "ok";

    }
// --> http://localhost:8080/mapping/userA 
```

â‡’ ìµœê·¼ HTTP APIëŠ” ë‹¤ìŒê³¼ ê°™ì´ ë¦¬ì†ŒìŠ¤ ê²½ë¡œì— ì‹ë³„ìë¥¼ ë„£ëŠ” ìŠ¤íƒ€ì¼ì„ ì„ í˜¸í•œë‹¤.

< @PathVariable ì˜ ì´ë¦„ê³¼ íŒŒë¼ë¯¸í„° ì´ë¦„ì´ ê°™ìœ¼ë©´ ìƒëµí•  ìˆ˜ ìˆë‹¤.>

```java
@PathVariable("userId") String data 
-> @PathVariable String userId
```

# **ìš”ì²­ ë§¤í•‘ - API ì˜ˆì‹œ**

# **HTTP ìš”ì²­ - ê¸°ë³¸, í—¤ë” ì¡°íšŒ**

```java
@RequestMapping("/headers")
    public String headers(HttpServletRequest request,
			HttpServletResponse response,
      HttpMethod httpMethod,
      Locale locale,
      @RequestHeader MultiValueMap<String,String> headerMap,
      @RequestHeader ("host") String host,
	    @CookieValue(value="myCookie",required = false) String cookie){
			
	...
	}
```

- HttpServletRequest
- HttpServletResponse
- HttpMethod : HTTP ë©”ì„œë“œë¥¼ ì¡°íšŒí•œë‹¤. org.springframework.http.HttpMethod
- Locale : Locale ì •ë³´ë¥¼ ì¡°íšŒí•œë‹¤.
- @RequestHeader MultiValueMap<String, String> headerMap
    
    : ëª¨ë“  HTTP í—¤ë”ë¥¼ MultiValueMap í˜•ì‹ìœ¼ë¡œ ì¡°íšŒí•œë‹¤.
    
- @RequestHeader("host") String host : íŠ¹ì • HTTP í—¤ë”ë¥¼ ì¡°íšŒí•œë‹¤.
    - ì†ì„±
        - í•„ìˆ˜ ê°’ ì—¬ë¶€: required
        - ê¸°ë³¸ ê°’ ì†ì„±: defaultValue
- @CookieValue(value = "myCookie", required = false) String cookie : íŠ¹ì • ì¿ í‚¤ë¥¼ ì¡°íšŒí•œë‹¤.
    - ì†ì„±
        - í•„ìˆ˜ ê°’ ì—¬ë¶€: required
        - ê¸°ë³¸ ê°’: defaultValue
- MultiValueMap : MAPê³¼ ìœ ì‚¬í•œë°, í•˜ë‚˜ì˜ í‚¤ì— ì—¬ëŸ¬ ê°’ì„ ë°›ì„ ìˆ˜ ìˆë‹¤.
HTTP header, HTTP ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ì™€ ê°™ì´ í•˜ë‚˜ì˜ í‚¤ì— ì—¬ëŸ¬ ê°’ì„ ë°›ì„ ë•Œ ì‚¬ìš©í•œë‹¤.
    - **keyA=value1&keyA=value2**

**@Slf4j â†’ ë¡œê·¸ë¥¼ ì„ ì–¸í•´ì¤€ë‹¤. ê°œë°œìëŠ” í¸ë¦¬í•˜ê²Œ log ë¼ê³  ì‚¬ìš©í•˜ë©´ ëœë‹¤.**

# **HTTP ìš”ì²­ íŒŒë¼ë¯¸í„° - ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°, HTML Form**

**í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì„œë²„ë¡œ ìš”ì²­ ë°ì´í„°ë¥¼ ì „ë‹¬í•  ë•ŒëŠ” ì£¼ë¡œ ë‹¤ìŒ 3ê°€ì§€ ë°©ë²•ì„ ì‚¬ìš©í•œë‹¤.**

**GET - ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°**

- /url**?username=hello&age=20**
- ë©”ì‹œì§€ ë°”ë”” ì—†ì´, URLì˜ ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ì— ë°ì´í„°ë¥¼ í¬í•¨í•´ì„œ ì „ë‹¬
ì˜ˆ) ê²€ìƒ‰, í•„í„°, í˜ì´ì§•ë“±ì—ì„œ ë§ì´ ì‚¬ìš©í•˜ëŠ” ë°©ì‹

**POST - HTML Form**

- content-type: application/x-www-form-urlencoded
- ë©”ì‹œì§€ ë°”ë””ì— ì¿¼ë¦¬ íŒŒë¦¬ë¯¸í„° í˜•ì‹ìœ¼ë¡œ ì „ë‹¬ username=hello&age=20
ì˜ˆ) íšŒì› ê°€ì…, ìƒí’ˆ ì£¼ë¬¸, HTML Form ì‚¬ìš©

**HTTP message body**ì— ë°ì´í„°ë¥¼ ì§ì ‘ ë‹´ì•„ì„œ ìš”ì²­

- HTTP APIì—ì„œ ì£¼ë¡œ ì‚¬ìš©, JSON, XML, TEXT
- ë°ì´í„° í˜•ì‹ì€ ì£¼ë¡œ JSON ì‚¬ìš©
- POST, PUT, PATCH

**[V1]**

```java
@Slf4j
@Controller
public class RequestParamController {

    @RequestMapping("/request-param-v1")
    public void requestParamV1(HttpServletRequest request, HttpServletResponse response) throws IOException {
        String username = request.getParameter("username");
        int age = Integer.parseInt(request.getParameter("age"));
        log.info("username = {}, age = {}",username,age);

        response.getWriter().write("ok");
    }
}
```

â†’ **GET ì‹¤í–‰**

http://localhost:8080/request-param-v1?username=hello&age=20

**[V2]**

```java
@ResponseBody
    @RequestMapping("request-param-v2")
    public String requestParamV2(
            @RequestParam("username") String memberName,
            @RequestParam("age") int memberAge
    ){

        log.info("username = {}, age = {}",memberName,memberAge);
        return "ok";
    }
```

- @RequestParam : íŒŒë¼ë¯¸í„° ì´ë¦„ìœ¼ë¡œ ë°”ì¸ë”©
- @ResponseBody : View ì¡°íšŒë¥¼ ë¬´ì‹œí•˜ê³ , HTTP message bodyì— ì§ì ‘ í•´ë‹¹ ë‚´ìš© ì…ë ¥

**@RequestParam**ì˜ name(value) ì†ì„±ì´ íŒŒë¼ë¯¸í„° ì´ë¦„ìœ¼ë¡œ ì‚¬ìš©
@RequestParam("**username**") String **memberName**

= request.getParameter("**username**")

**[V3]**

```java
@ResponseBody
    @RequestMapping("request-param-v3")
    public String requestParamV3(
            @RequestParam String username,
            @RequestParam int age
    ){

        log.info("username = {}, age = {}",username,age);
        return "ok";
    }
```

â†’ HTTP íŒŒë¼ë¯¸í„° ì´ë¦„ì´ ë³€ìˆ˜ ì´ë¦„ê³¼ ê°™ìœ¼ë©´ @RequestParam(name="xx") ìƒëµ ê°€ëŠ¥

**[V4]**

```java
@ResponseBody
    @RequestMapping("request-param-v4")
    public String requestParamV4(String username,int age){
        log.info("username = {}, age = {}",username,age);
        return "ok";
    }
```

â†’ String , int , Integer ë“±ì˜ ë‹¨ìˆœ íƒ€ì…ì´ë©´ @RequestParam ë„ ìƒëµ ê°€ëŠ¥

> **ì°¸ê³ **
ì´ë ‡ê²Œ ì• ë…¸í…Œì´ì…˜ì„ ì™„ì „íˆ ìƒëµí•´ë„ ë˜ëŠ”ë°, ë„ˆë¬´ ì—†ëŠ” ê²ƒë„ ì•½ê°„ ê³¼í•˜ë‹¤ëŠ” ì£¼ê´€ì  ìƒê°ì´ ìˆë‹¤.
â†’ @RequestParam ì´ ìˆìœ¼ë©´ ëª…í™•í•˜ê²Œ ìš”ì²­ íŒŒë¦¬ë¯¸í„°ì—ì„œ ë°ì´í„°ë¥¼ ì½ëŠ” ë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.
> 

```java
@ResponseBody
    @RequestMapping("request-param-required")
    public String requestParamRequires(
            @RequestParam(required = true) String username, 
            @RequestParam(required = false) int age){
        log.info("username = {}, age = {}",username,age);
        return "ok";
    }
```

@RequestParam.required

- íŒŒë¼ë¯¸í„° í•„ìˆ˜ ì—¬ë¶€
- ê¸°ë³¸ê°’ì´ íŒŒë¼ë¯¸í„° í•„ìˆ˜( true )ì´ë‹¤.

username ì´ ì—†ìœ¼ë©´ 400 ì˜ˆì™¸ê°€ ë°œìƒí•œë‹¤.

age(int) ê°€ ì—†ìœ¼ë©´ 500 ì˜ˆì™¸ ë°œìƒ

â†’ null ì„ int ì— ì…ë ¥í•˜ëŠ” ê²ƒì€ ë¶ˆê°€ëŠ¥(500 ì˜ˆì™¸ ë°œìƒ)

â†’ ë”°ë¼ì„œ null ì„ ë°›ì„ ìˆ˜ ìˆëŠ” Integer ë¡œ ë³€ê²½í•˜ê±°ë‚˜, ë˜ëŠ” ë‹¤ìŒì— ë‚˜ì˜¤ëŠ” defaultValue ì‚¬ìš©

**ì£¼ì˜! - íŒŒë¼ë¯¸í„° ì´ë¦„ë§Œ ì‚¬ìš©**
/request-param?username=

íŒŒë¼ë¯¸í„° ì´ë¦„ë§Œ ìˆê³  ê°’ì´ ì—†ëŠ” ê²½ìš° ë¹ˆë¬¸ìë¡œ í†µê³¼

**[defaultValue]**

```java
@ResponseBody
    @RequestMapping("request-param-default")
    public String requestParamDefault(
            @RequestParam(required = true,defaultValue = "guest") String username,
            @RequestParam(required = false,defaultValue = "-1") Integer age){
        log.info("username = {}, age = {}",username,age);
        return "ok";
    }
```

ê°’ì´ ì—†ëŠ” ê²½ìš° guestì™€ -1ë¡œ í•˜ê² ë‹¤.

â†’ defaultValue ëŠ” ë¹ˆ ë¬¸ìì˜ ê²½ìš°ì—ë„ ì„¤ì •í•œ ê¸°ë³¸ ê°’ì´ ì ìš©ëœë‹¤. 

/request-param-default?username=

**[paramMap]**

```java
@ResponseBody
    @RequestMapping("request-param-map")
    public String requestParamMap(@RequestParam Map<String,Object> paramMap){
        log.info("username = {}, age = {}",paramMap.get("username"),paramMap.get("age"));
        return "ok";
    }
```

íŒŒë¼ë¯¸í„°ë¥¼ Map, MultiValueMapìœ¼ë¡œ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.

@RequestParam Map

- Map(key=value)

@RequestParam MultiValueMap

- MultiValueMap(key=[value1, value2, ...] ex) (key=userIds, value=[id1, id2])

íŒŒë¼ë¯¸í„°ì˜ ê°’ì´ 1ê°œê°€ í™•ì‹¤í•˜ë‹¤ë©´ Map ì„ ì‚¬ìš©í•´ë„ ë˜ì§€ë§Œ, ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ MultiValueMap ì„ ì‚¬ìš©í•˜ì.

# HTTP ìš”ì²­ íŒŒë¼ë¯¸í„° - @ModelAttribute

```java
@Data
public class HelloData {
    private String username;
    private int age; 
}
```

ë¡¬ë³µ @Data
@Getter , @Setter , @ToString , @EqualsAndHashCode , @RequiredArgsConstructor ë¥¼ ìë™ìœ¼ë¡œ ì ìš©í•´ì¤€ë‹¤.

```java
@ResponseBody
    @RequestMapping("/model-attribute-v1")
    public String modelAttributeV1(@RequestParam String username,@RequestParam int age){
        HelloData helloData = new HelloData();
        helloData.setUsername(username);
        helloData.setAge(age);

        log.info("username = {}, age = {}",helloData.getUsername(),helloData.getAge());
        log.info("helloData = {}",helloData);
        return "ok";
    }
```

â¬‡ï¸

**@ModelAttribute ì ìš© - modelAttributeV1**

â¬‡ï¸

```java
@ResponseBody
    @RequestMapping("/model-attribute-v1")
    public String modelAttributeV1(@ModelAttribute HelloData helloData){
        log.info("username = {}, age = {}",helloData.getUsername(),helloData.getAge());
        return "ok";
    }
```

ë§ˆì¹˜ ë§ˆë²•ì²˜ëŸ¼ HelloData ê°ì²´ê°€ ìƒì„±ë˜ê³ , ìš”ì²­ íŒŒë¼ë¯¸í„°ì˜ ê°’ë„ ëª¨ë‘ ë“¤ì–´ê°€ ìˆë‹¤.

ìŠ¤í”„ë§MVCëŠ” @ModelAttribute ê°€ ìˆìœ¼ë©´ ë‹¤ìŒì„ ì‹¤í–‰í•œë‹¤.

- HelloData ê°ì²´ë¥¼ ìƒì„±í•œë‹¤.
- ìš”ì²­ íŒŒë¼ë¯¸í„°ì˜ ì´ë¦„ìœ¼ë¡œ HelloData ê°ì²´ì˜ í”„ë¡œí¼í‹°ë¥¼ ì°¾ëŠ”ë‹¤. ê·¸ë¦¬ê³  í•´ë‹¹ í”„ë¡œí¼í‹°ì˜ setterë¥¼
í˜¸ì¶œí•´ì„œ íŒŒë¼ë¯¸í„°ì˜ ê°’ì„ ì…ë ¥(ë°”ì¸ë”©) í•œë‹¤.
ì˜ˆ) íŒŒë¼ë¯¸í„° ì´ë¦„ì´ username ì´ë©´ setUsername() ë©”ì„œë“œë¥¼ ì°¾ì•„ì„œ í˜¸ì¶œí•˜ë©´ì„œ ê°’ì„ ì…ë ¥í•œë‹¤.

<aside>
ğŸ—£ â€œ**í”„ë¡œí¼í‹°â€**

getXxx â†’ xxx , setXxx â†’ xxx

ê°ì²´ì— getUsername() , setUsername() ë©”ì„œë“œê°€ ìˆìœ¼ë©´, ì´ ê°ì²´ëŠ” username ì´ë¼ëŠ” í”„ë¡œí¼í‹°ë¥¼ ê°€ì§€ê³  ìˆë‹¤.
username í”„ë¡œí¼í‹°ì˜ ê°’ì„ ë³€ê²½í•˜ë©´ setUsername() ì´ í˜¸ì¶œë˜ê³ , ì¡°íšŒí•˜ë©´ getUsername() ì´ í˜¸ì¶œëœë‹¤.

</aside>

@ModelAttribute ëŠ” ìƒëµí•  ìˆ˜ ìˆë‹¤.
ê·¸ëŸ°ë° @RequestParam ë„ ìƒëµí•  ìˆ˜ ìˆìœ¼ë‹ˆ í˜¼ë€ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤.

ìŠ¤í”„ë§ì€ í•´ë‹¹ ìƒëµì‹œ ë‹¤ìŒê³¼ ê°™ì€ ê·œì¹™ì„ ì ìš©í•œë‹¤.
String , int , Integer ê°™ì€ ë‹¨ìˆœ íƒ€ì… = @RequestParam

ë‚˜ë¨¸ì§€ = @ModelAttribute (argument resolver ë¡œ ì§€ì •í•´ë‘” íƒ€ì… ì™¸)

**ë°”ì¸ë”© ì˜¤ë¥˜**

: age=abc ì²˜ëŸ¼ ìˆ«ìê°€ ë“¤ì–´ê°€ì•¼ í•  ê³³ì— ë¬¸ìë¥¼ ë„£ìœ¼ë©´ BindException ì´ ë°œìƒí•œë‹¤. ì´ëŸ° ë°”ì¸ë”© ì˜¤ë¥˜ë¥¼
ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì€ ê²€ì¦ ë¶€ë¶„ì—ì„œ ë‹¤ë£¬ë‹¤.

# **HTTP ìš”ì²­ ë©”ì‹œì§€ - ë‹¨ìˆœ í…ìŠ¤íŠ¸**

**HTTP message body**ì— ë°ì´í„°ë¥¼ ì§ì ‘ ë‹´ì•„ì„œ ìš”ì²­

- HTTP APIì—ì„œ ì£¼ë¡œ ì‚¬ìš©, JSON, XML, TEXT
- ë°ì´í„° í˜•ì‹ì€ ì£¼ë¡œ JSON ì‚¬ìš©
- POST, PUT, PATCH

â†’ ìš”ì²­ íŒŒë¼ë¯¸í„°ì™€ ë‹¤ë¥´ê²Œ, HTTP ë©”ì‹œì§€ ë°”ë””ë¥¼ í†µí•´ ë°ì´í„°ê°€ ì§ì ‘ ë„˜ì–´ì˜¤ëŠ” ê²½ìš°ëŠ” @RequestParam , @ModelAttribute ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. (ë¬¼ë¡  HTML Form í˜•ì‹ìœ¼ë¡œ ì „ë‹¬ë˜ëŠ” ê²½ìš°ëŠ” ìš”ì²­ íŒŒë¼ë¯¸í„°ë¡œ ì¸ì •ëœë‹¤.)

```java
@PostMapping("/request-body-string-v1")
     public void requestBodyString(HttpServletRequest request, HttpServletResponse response) throws IOException {
        ServletInputStream inputStream = request.getInputStream();
        String messageBody = StreamUtils.copyToString(inputStream, StandardCharsets.UTF_8);

        log.info("messageBody = {}",messageBody);

        response.getWriter().write("ok");
    }
```

```java
@PostMapping("/request-body-string-v2")
    public void requestBodyStringV2(InputStream inputStream, Writer responseWriter) throws IOException {
        String messageBody = StreamUtils.copyToString(inputStream, StandardCharsets.UTF_8);
        log.info("messageBody = {}",messageBody);
        responseWriter.write("ok");
    }
```

â†’ **ìŠ¤í”„ë§ MVCëŠ” ë‹¤ìŒ íŒŒë¼ë¯¸í„°ë¥¼ ì§€ì›í•œë‹¤.**

InputStream(Reader): HTTP ìš”ì²­ ë©”ì‹œì§€ ë°”ë””ì˜ ë‚´ìš©ì„ ì§ì ‘ ì¡°íšŒ
OutputStream(Writer): HTTP ì‘ë‹µ ë©”ì‹œì§€ì˜ ë°”ë””ì— ì§ì ‘ ê²°ê³¼ ì¶œë ¥

```java
@PostMapping("/request-body-string-v3")
    public HttpEntity<String> requestBodyStringV3(RequestEntity<String> httpEntity) throws IOException {

        String messageBody = httpEntity.getBody();
        log.info("messageBody = {}",messageBody);
        return new ResponseEntity<>("ok",HttpStatus.CREATED);
    }
```

```java
@PostMapping("/request-body-string-v4")
    public HttpEntity<String> requestBodyStringV4(@RequestBody String messageBody) {

        log.info("messageBody = {}",messageBody);
        return new ResponseEntity<>("ok",HttpStatus.CREATED);
    }
```

```java
@ResponseBody
    @PostMapping("/request-body-string-v4")
    public String requestBodyStringV4(@RequestBody String messageBody) {

        log.info("messageBody = {}",messageBody);

        return "ok";
    }
```

**ìŠ¤í”„ë§ MVCëŠ” ë‹¤ìŒ íŒŒë¼ë¯¸í„°ë¥¼ ì§€ì›í•œë‹¤.**

- **HttpEntity**: HTTP header, body ì •ë³´ë¥¼ í¸ë¦¬í•˜ê²Œ ì¡°íšŒ
    - ë©”ì‹œì§€ ë°”ë”” ì •ë³´ë¥¼ ì§ì ‘ ì¡°íšŒ
    - ìš”ì²­ íŒŒë¼ë¯¸í„°ë¥¼ ì¡°íšŒí•˜ëŠ” ê¸°ëŠ¥ê³¼ ê´€ê³„ ì—†ìŒ @RequestParam X, @ModelAttribute X
- **HttpEntityëŠ” ì‘ë‹µì—ë„ ì‚¬ìš© ê°€ëŠ¥**
    - ë©”ì‹œì§€ ë°”ë”” ì •ë³´ ì§ì ‘ ë°˜í™˜
    - í—¤ë” ì •ë³´ í¬í•¨ ê°€ëŠ¥
    - view ì¡°íšŒX

HttpEntity ë¥¼ ìƒì†ë°›ì€ ë‹¤ìŒ ê°ì²´ë“¤ë„ ê°™ì€ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.

- **RequestEntity**
    - HttpMethod, url ì •ë³´ê°€ ì¶”ê°€, ìš”ì²­ì—ì„œ ì‚¬ìš©
- **ResponseEntity**
    - HTTP ìƒíƒœ ì½”ë“œ ì„¤ì • ê°€ëŠ¥, ì‘ë‹µì—ì„œ ì‚¬ìš©

`return new ResponseEntity<String>("Hello World", responseHeaders,`

`HttpStatus.CREATED)`

**@RequestBody
:** @RequestBody ë¥¼ ì‚¬ìš©í•˜ë©´ HTTP ë©”ì‹œì§€ ë°”ë”” ì •ë³´ë¥¼ í¸ë¦¬í•˜ê²Œ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤. ì°¸ê³ ë¡œ í—¤ë” ì •ë³´ê°€ í•„ìš”í•˜ë‹¤ë©´ HttpEntity ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ @RequestHeader ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.
ì´ë ‡ê²Œ ë©”ì‹œì§€ ë°”ë””ë¥¼ ì§ì ‘ ì¡°íšŒí•˜ëŠ” ê¸°ëŠ¥ì€ ìš”ì²­ íŒŒë¼ë¯¸í„°ë¥¼ ì¡°íšŒí•˜ëŠ” @RequestParam ,
@ModelAttribute ì™€ëŠ” ì „í˜€ ê´€ê³„ê°€ ì—†ë‹¤.

ìš”**ì²­ íŒŒë¼ë¯¸í„° vs HTTP ë©”ì‹œì§€ ë°”ë””**

ìš”ì²­ íŒŒë¼ë¯¸í„°ë¥¼ ì¡°íšŒí•˜ëŠ” ê¸°ëŠ¥: @RequestParam , @ModelAttribute
HTTP ë©”ì‹œì§€ ë°”ë””ë¥¼ ì§ì ‘ ì¡°íšŒí•˜ëŠ” ê¸°ëŠ¥: @RequestBody

**@ResponseBody**

@ResponseBody ë¥¼ ì‚¬ìš©í•˜ë©´ ì‘ë‹µ ê²°ê³¼ë¥¼ HTTP ë©”ì‹œì§€ ë°”ë””ì— ì§ì ‘ ë‹´ì•„ì„œ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤.
ë¬¼ë¡  ì´ ê²½ìš°ì—ë„ viewë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.

# **HTTP ìš”ì²­ ë©”ì‹œì§€ - JSON**

```java
@PostMapping("/request-body-json-v1")
    public void requestBodyJsonV1(HttpServletRequest request, HttpServletResponse response) throws IOException {

        ServletInputStream inputStream = request.getInputStream();
        String messageBody = StreamUtils.copyToString(inputStream, StandardCharsets.UTF_8);

        log.info("messageBody = {}",messageBody);
        HelloData helloData = objectMapper.readValue(messageBody, HelloData.class);
        log.info("username={}, age={}",helloData.getUsername(),helloData.getAge());

        response.getWriter().write("ok");
    }
```

```java
@ResponseBody
    @PostMapping("/request-body-json-v2")
    public String requestBodyJsonV2(@RequestBody String messageBody) throws IOException {

        log.info("messageBody = {}",messageBody);
        HelloData helloData = objectMapper.readValue(messageBody, HelloData.class);
        log.info("username={}, age={}",helloData.getUsername(),helloData.getAge());

        return "ok";
    }
```

```java
@ResponseBody
    @PostMapping("/request-body-json-v3")
    public String requestBodyJsonV3(@RequestBody HelloData helloData)  {
        log.info("username={}, age={}",helloData.getUsername(),helloData.getAge());
        return "ok";
    }
```

â†’ V2,V3ì—ì„œ @ResponseBodyë¥¼ ì•ˆ í–ˆë”ë‹ˆ 500ì˜¤ë¥˜ê°€ ë‚¬ì—ˆë‹¤..

**@RequestBody ê°ì²´ íŒŒë¼ë¯¸í„°**

@RequestBody HelloData data â†’ @RequestBody ì— ì§ì ‘ ë§Œë“  ê°ì²´ë¥¼ ì§€ì •í•  ìˆ˜ ìˆë‹¤.

<aside>
ğŸ—£ **@RequestBodyëŠ” ìƒëµ ë¶ˆê°€ëŠ¥**

ìŠ¤í”„ë§ì€ @ModelAttribute , @RequestParam ê³¼ ê°™ì€ í•´ë‹¹ ì• ë…¸í…Œì´ì…˜ì„ ìƒëµì‹œ ë‹¤ìŒê³¼ ê°™ì€ ê·œì¹™ì„ ì ìš©í•œë‹¤.

- String , int , Integer ê°™ì€ ë‹¨ìˆœ íƒ€ì… = @RequestParam
- ë‚˜ë¨¸ì§€ = @ModelAttribute (argument resolver ë¡œ ì§€ì •í•´ë‘” íƒ€ì… ì™¸)

ë”°ë¼ì„œ ì´ ê²½ìš° HelloDataì— @RequestBody ë¥¼ ìƒëµí•˜ë©´ @ModelAttribute ê°€ ì ìš©ë˜ì–´ë²„ë¦°ë‹¤.
HelloData data â†’ @ModelAttribute HelloData data
ë”°ë¼ì„œ ìƒëµí•˜ë©´ HTTP ë©”ì‹œì§€ ë°”ë””ê°€ ì•„ë‹ˆë¼ ìš”ì²­ íŒŒë¼ë¯¸í„°ë¥¼ ì²˜ë¦¬í•˜ê²Œ ëœë‹¤.

</aside>

ë¬¼ë¡  ì•ì„œ ë°°ìš´ ê²ƒê³¼ ê°™ì´ HttpEntityë¥¼ ì‚¬ìš©í•´ë„ ëœë‹¤.

```java
@ResponseBody
    @PostMapping("/request-body-json-v4")
    public String requestBodyJsonV4(HttpEntity<HelloData> httpEntity)  {
        HelloData data = httpEntity.getBody();
        log.info("username={}, age={}",data.getUsername(),data.getAge());
        return "ok";
    }
```

```java
@ResponseBody
    @PostMapping("/request-body-json-v5")
    public HelloData requestBodyJsonV5(@RequestBody HelloData data)  {
        log.info("username={}, age={}",data.getUsername(),data.getAge());
        return data;
    }
-> Json ì´ ê°ì²´ê°€ ëë‹¤ê°€ ê°ì²´ê°€ ë‚˜ê°ˆë•Œ ë‹¤ì‹œ Json
```

â¡ï¸ @RequestBody ìš”ì²­
JSON ìš”ì²­ â†’ HTTP ë©”ì‹œì§€ ì»¨ë²„í„° â†’ ê°ì²´

â¡ï¸ @ResponseBody ì‘ë‹µ
ê°ì²´ â†’ HTTP ë©”ì‹œì§€ ì»¨ë²„í„° â†’ JSON ì‘ë‹µ

# **ì‘ë‹µ - ì •ì  ë¦¬ì†ŒìŠ¤, ë·° í…œí”Œë¦¿**

â€œ**ì •ì  ë¦¬ì†ŒìŠ¤â€** 

src/main/resources/static

ë‹¤ìŒ ê²½ë¡œì— íŒŒì¼ì´ ë“¤ì–´ìˆìœ¼ë©´

src/main/resources/static/basic/hello-form.html

ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ ë‹¤ìŒê³¼ ê°™ì´ ì‹¤í–‰í•˜ë©´ ëœë‹¤.
http://localhost:8080/basic/hello-form.html

: ì •ì  ë¦¬ì†ŒìŠ¤ëŠ” í•´ë‹¹ íŒŒì¼ì„ ë³€ê²½ ì—†ì´ ê·¸ëŒ€ë¡œ ì„œë¹„ìŠ¤í•˜ëŠ” ê²ƒì´ë‹¤.

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-06-18 á„‹á…©á„’á…® 1.43.36.png](%E1%84%89%E1%85%B3%E1%84%91%E1%85%B3%E1%84%85%E1%85%B5%E1%86%BC%20MVC%20-%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20%E1%84%80%E1%85%B5%E1%84%82%E1%85%B3%E1%86%BC%206c40c542ef8e4d0ab70db2fbf09aeeed/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-06-18_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_1.43.36.png)

â†’ static : ì •ì  ë¦¬ì†ŒìŠ¤

â†’ templates : ë·° í…œí”Œë¦¿

â€œ**ë·° í…œí”Œë¦¿â€**

ë·° í…œí”Œë¦¿ì„ ê±°ì³ì„œ HTMLì´ ìƒì„±ë˜ê³ , ë·°ê°€ ì‘ë‹µì„ ë§Œë“¤ì–´ì„œ ì „ë‹¬í•œë‹¤.
ì¼ë°˜ì ìœ¼ë¡œ HTMLì„ ë™ì ìœ¼ë¡œ ìƒì„±í•˜ëŠ” ìš©ë„ë¡œ ì‚¬ìš©í•˜ì§€ë§Œ, ë‹¤ë¥¸ ê²ƒë“¤ë„ ê°€ëŠ¥í•˜ë‹¤. ë·° í…œí”Œë¦¿ì´ ë§Œë“¤ ìˆ˜
ìˆëŠ” ê²ƒì´ë¼ë©´ ë­ë“ ì§€ ê°€ëŠ¥í•˜ë‹¤.

**ë·° í…œí”Œë¦¿ ê²½ë¡œ**

src/main/resources/templates

**ë·° í…œí”Œë¦¿ ìƒì„±**

src/main/resources/templates/response/hello.html

```java
@RequestMapping("/response-view-v1")
    public ModelAndView responseViewV1(){
        ModelAndView mav = new ModelAndView("response/hello")
                .addObject("data","hello!");
        return mav;
    }
```

```java
@RequestMapping("/response-view-v2")
    public String responseViewV2(Model model){
        model.addAttribute("data","hello!");
        return "response/hello";
    }
```

@Controller + String ë°˜í™˜ â‡’ return viewì˜ ë…¼ë¦¬ì  ì´ë¦„;

<ë¹„ì¶”ì²œ ë°©ì‹> **ì´ ë°©ì‹ì€ ëª…ì‹œì„±ì´ ë„ˆë¬´ ë–¨ì–´ì§€ê³  ì´ë ‡ê²Œ ë”± ë§ëŠ” ê²½ìš°ë„ ë§ì´ ì—†ì–´ì„œ, ê¶Œì¥í•˜ì§€ ì•ŠëŠ”ë‹¤.**

```java
@RequestMapping("/response/hello")
    public void responseViewV3(Model model){
        model.addAttribute("data","hello!");
    }
-> ê²½ë¡œì˜ ì´ë¦„ê³¼ @RequestMappingì´ ê°™ìœ¼ë©´ void ê°€ëŠ¥
```

# HTTP ì‘ë‹µ - HTTP API, ë©”ì‹œì§€ ë°”ë””ì— ì§ì ‘ ì…ë ¥

```java
@GetMapping("/response-body-string-v1")
public void responseBodyV1(HttpServletResponse response) throws IOException {
        response.getWriter().write("ok");
}
```

â†’ ì„œë¸”ë¦¿ì„ ì§ì ‘ ë‹¤ë£° ë•Œ ì²˜ëŸ¼ HttpServletResponse ê°ì²´ë¥¼ í†µí•´ì„œ HTTP ë©”ì‹œì§€ ë°”ë””ì— ì§ì ‘ ok ì‘ë‹µ ë©”ì‹œì§€ë¥¼ ì „ë‹¬í•œë‹¤. response.getWriter().write("ok")

```java
@GetMapping("/response-body-string-v2")
public ResponseEntity<String> responseBodyV2() {
        return new ResponseEntity<>("ok", HttpStatus.OK);
}
```

â†’ ResponseEntity ì—”í‹°í‹°ëŠ” HttpEntity ë¥¼ ìƒì† ë°›ì•˜ëŠ”ë°, HttpEntityëŠ” HTTP ë©”ì‹œì§€ì˜ í—¤ë”, ë°”ë”” ì •ë³´ë¥¼ ê°€ì§€ê³  ìˆë‹¤. ResponseEntity ëŠ” ì—¬ê¸°ì— ë”í•´ì„œ HTTP ì‘ë‹µ ì½”ë“œë¥¼ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.
â†’ HttpStatus.CREATED ë¡œ ë³€ê²½í•˜ë©´ 201 ì‘ë‹µì´ ë‚˜ê°€ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

```java
@ResponseBody
@GetMapping("/response-body-string-v3")
public String responseBodyV3() {
        return "ok"}
```

â†’ @ResponseBody ë¥¼ ì‚¬ìš©í•˜ë©´ viewë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³ , HTTP ë©”ì‹œì§€ ì»¨ë²„í„°ë¥¼ í†µí•´ì„œ HTTP ë©”ì‹œì§€ë¥¼ ì§ì ‘ ì…ë ¥í•  ìˆ˜ ìˆë‹¤. ResponseEntity ë„ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ë™ì‘í•œë‹¤.

```java
@GetMapping("/response-body-json-v1")
public ResponseEntity<HelloData> responseBodyJsonV1(){
			HelloData helloData = new HelloData();
      helloData.setUsername("userA");
      helloData.setAge(20);

      return new ResponseEntity<>(helloData, HttpStatus.OK);
}
```

â†’ ResponseEntity ë¥¼ ë°˜í™˜í•œë‹¤. HTTP ë©”ì‹œì§€ ì»¨ë²„í„°ë¥¼ í†µí•´ì„œ JSON í˜•ì‹ìœ¼ë¡œ ë³€í™˜ë˜ì–´ì„œ ë°˜í™˜ëœë‹¤.

```java
@ResponseStatus(HttpStatus.OK)
@ResponseBody
@GetMapping("/response-body-json-v2")
public HelloData responseBodyJsonV2(){
      HelloData helloData = new HelloData();
      helloData.setUsername("userA");
      helloData.setAge(20);
      return helloData;
}
```

â†’ ResponseEntity ëŠ” HTTP ì‘ë‹µ ì½”ë“œë¥¼ ì„¤ì •í•  ìˆ˜ ìˆëŠ”ë°, @ResponseBody ë¥¼ ì‚¬ìš©í•˜ë©´ ì´ëŸ° ê²ƒì„
ì„¤ì •í•˜ê¸° ê¹Œë‹¤ë¡­ë‹¤.
@ResponseStatus(HttpStatus.OK) ì• ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ë©´ ì‘ë‹µ ì½”ë“œë„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.

ë¬¼ë¡  ì• ë…¸í…Œì´ì…˜ì´ê¸° ë•Œë¬¸ì— ì‘ë‹µ ì½”ë“œë¥¼ ë™ì ìœ¼ë¡œ ë³€ê²½í•  ìˆ˜ëŠ” ì—†ë‹¤. í”„ë¡œê·¸ë¨ ì¡°ê±´ì— ë”°ë¼ì„œ ë™ì ìœ¼ë¡œ ë³€ê²½í•˜ë ¤ë©´ ìœ„ì˜ ì½”ë“œì²˜ëŸ¼ ResponseEntity ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.

<aside>
ğŸ—£ @RestController
@Controller + @ResponseBody

</aside>

# **HTTP ë©”ì‹œì§€ ì»¨ë²„í„°**

**ìŠ¤í”„ë§ MVCëŠ” ë‹¤ìŒì˜ ê²½ìš°ì— HTTP ë©”ì‹œì§€ ì»¨ë²„í„°ë¥¼ ì ìš©í•œë‹¤.**

- HTTP ìš”ì²­: @RequestBody , HttpEntity(RequestEntity)
- HTTP ì‘ë‹µ: @ResponseBody , HttpEntity(ResponseEntity)

HTTP ë©”ì‹œì§€ ì»¨ë²„í„°ëŠ” HTTP ìš”ì²­, HTTP ì‘ë‹µ ë‘˜ ë‹¤ ì‚¬ìš©ëœë‹¤.

- canRead() , canWrite() : ë©”ì‹œì§€ ì»¨ë²„í„°ê°€ í•´ë‹¹ í´ë˜ìŠ¤, ë¯¸ë””ì–´íƒ€ì…ì„ ì§€ì›í•˜ëŠ”ì§€ ì²´í¬
- read() , write() : ë©”ì‹œì§€ ì»¨ë²„í„°ë¥¼ í†µí•´ì„œ ë©”ì‹œì§€ë¥¼ ì½ê³  ì“°ëŠ” ê¸°ëŠ¥

ëª‡ê°€ì§€ ì£¼ìš”í•œ ë©”ì‹œì§€ ì»¨ë²„í„°ë¥¼ ì•Œì•„ë³´ì.

- ByteArrayHttpMessageConverter : byte[] ë°ì´í„°ë¥¼ ì²˜ë¦¬í•œë‹¤.
    
    í´ë˜ìŠ¤ íƒ€ì…: byte[] , ë¯¸ë””ì–´íƒ€ì…: */* ,
    
    - ìš”ì²­ ì˜ˆ) @RequestBody byte[] data
    - ì‘ë‹µ ì˜ˆ) @ResponseBody return byte[] ì“°ê¸° ë¯¸ë””ì–´íƒ€ì… application/octet-stream
- StringHttpMessageConverter : String ë¬¸ìë¡œ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•œë‹¤.
í´ë˜ìŠ¤ íƒ€ì…: String , ë¯¸ë””ì–´íƒ€ì…: */*
    - ìš”ì²­ ì˜ˆ) @RequestBody String data
    - ì‘ë‹µ ì˜ˆ) @ResponseBody return "ok" ì“°ê¸° ë¯¸ë””ì–´íƒ€ì… text/plain
- MappingJackson2HttpMessageConverter : application/json
í´ë˜ìŠ¤ íƒ€ì…: ê°ì²´ ë˜ëŠ” HashMap , ë¯¸ë””ì–´íƒ€ì… application/json ê´€ë ¨
    - ìš”ì²­ ì˜ˆ) @RequestBody HelloData data
    - ì‘ë‹µ ì˜ˆ) @ResponseBody return helloData ì“°ê¸° ë¯¸ë””ì–´íƒ€ì… application/json ê´€ë ¨

# **ìš”ì²­ ë§¤í•‘ í—¨ë“¤ëŸ¬ ì–´ëí„° êµ¬ì¡°**

HTTP ë©”ì‹œì§€ ì»¨ë²„í„°ëŠ” ì–´ë””ì¯¤ ìˆì„ê¹Œ?
HTTP ë©”ì‹œì§€ ì»¨ë²„í„°ë¥¼ ì‚¬ìš©í•˜ëŠ” @RequestBody ë„ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ í•„ìš”ë¡œ í•˜ëŠ” íŒŒë¼ë¯¸í„°ì˜ ê°’ì— ì‚¬ìš©ëœë‹¤.
@ResponseBody ì˜ ê²½ìš°ë„ ì»¨íŠ¸ë¡¤ëŸ¬ì˜ ë°˜í™˜ ê°’ì„ ì´ìš©í•œë‹¤.

**ìš”ì²­ì˜ ê²½ìš°** @RequestBody ë¥¼ ì²˜ë¦¬í•˜ëŠ” ArgumentResolver ê°€ ìˆê³ , HttpEntity ë¥¼ ì²˜ë¦¬í•˜ëŠ”
ArgumentResolver ê°€ ìˆë‹¤. ì´ ArgumentResolver ë“¤ì´ HTTP ë©”ì‹œì§€ ì»¨ë²„í„°ë¥¼ ì‚¬ìš©í•´ì„œ í•„ìš”í•œ
ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì´ë‹¤.

**ì‘ë‹µì˜ ê²½ìš°** @ResponseBody ì™€ HttpEntity ë¥¼ ì²˜ë¦¬í•˜ëŠ” ReturnValueHandler ê°€ ìˆë‹¤. ê·¸ë¦¬ê³ 
ì—¬ê¸°ì—ì„œ HTTP ë©”ì‹œì§€ ì»¨ë²„í„°ë¥¼ í˜¸ì¶œí•´ì„œ ì‘ë‹µ ê²°ê³¼ë¥¼ ë§Œë“ ë‹¤.

ìŠ¤í”„ë§ MVCëŠ” @RequestBody @ResponseBody ê°€ ìˆìœ¼ë©´RequestResponseBodyMethodProcessor (ArgumentResolver),
HttpEntity ê°€ ìˆìœ¼ë©´ HttpEntityMethodProcessor (ArgumentResolver)ë¥¼ ì‚¬ìš©í•œë‹¤.