# HTTP 메서드

# **HTTP API를 만들어보자**

<aside>
📌 가장 중요한 것은 리소스 식별
〰️ 리소스 : 회원이라는 개념자체가 리소스이다.
ex) 미네랄를 캐라! = 미네랄이 리소스
****회원이라는 리소스만 식별하면 된다. -> 회원 리소스를 URI에 매핑****

</aside>

**URI는 리소스만 식별! 리소스**와 해당 리소스를 대상으로 하는 **행위**을 분리

- 리소스: 회원
- 행위: 조회, 등록, 삭제, 변경

→ 리소스는 명사, 행위는 동사 (미네랄을 캐라)

> GET: 리소스 조회
POST: 요청 데이터 처리, 주로 등록에 사용
PUT: 리소스를 대체, 해당 리소스가 없으면 생성
PATCH: 리소스 부분 변경
DELETE: 리소스 삭제
> 

# **HTTP 메서드 - GET, POST**

GET 

- 리소스 조회
- 서버에 전달하고 싶은 데이터는 query(쿼리 파라미터, 쿼리 스트링)를 통해서 전달
- 메시지 바디를 사용해서 데이터를 전달할 수 있지만, 지원하지 않는 곳이 많아서 권장하지
않음

POST

- 요청 데이터 처리
- **메시지 바디를 통해 서버로 요청 데이터 전달**
- 서버는 요청 데이터를 처리
    - 메세지 바디를 통해 들어온 데이터를 처리하는 모든 기능을 수행한다.
- 주로 전달된 데이터로 신규 리소스 등록, 프로세스 처리에 사용
****

![스크린샷 2023-05-12 오후 5.42.23.png](HTTP%20%E1%84%86%E1%85%A6%E1%84%89%E1%85%A5%E1%84%83%E1%85%B3%204aa1ea6d574446e3a3265b9a319899da/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-05-12_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_5.42.23.png)

# **HTTP 메서드 - PUT, PATCH, DELETE**

**PUT** 

- 리소스를 대체
    - 리소스가 있으면 대체
    - 리소스가 없으면 생성
    - 쉽게 이야기해서 덮어버림
- ****중요! 클라이언트가 리소스를 식별****
    - 클라이언트가 리소스의 위치를 알고 URI 지정 →POST 와 차이점

**PATCH** 

- 리소스 부분 변경

**DELETE**

- 리소스 제거

# **HTTP 메서드의 속성**

**안전(Safe Methods)**

- 호출해도 리소스를 변경하지 않는다.

**멱등(Idempotent Methods)**

- 한 번 호출을 하든 두 번 호출을 하든 100번 호출을 하든 결과가 똑같다.
- 멱등 메서드
    - **GET**: 한 번 조회하든, 두 번 조회하든 같은 결과가 조회된다.
    - **PUT**: 결과를 대체한다. 따라서 같은 요청을 여러번 해도 최종 결과는 같다.
    - **DELETE**: 결과를 삭제한다. 같은 요청을 여러번 해도 삭제된 결과는 똑같다.
    - **POST**: 멱등이 아니다! 두 번 호출하면 같은 결제가 중복해서 발생할 수 있다.
    
    → 활용 : 자동 복구 메커니즘
    
    → 서버가 TIMEOUT 등으로 정상 응답을 못주었을 때, 클라이언트가 같은 요청을 다시 해
    도 되는가? 판단 근거
    

**캐시가능(Cacheable Methods)**